<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" color="#fff" size="large" type="ball-elastic-dots"></ngx-spinner>


<h1> My Cart</h1>

<div *ngIf="cartDataAvailable()"
     class="table-responsive-sm table-responsive-xs table-responsive-md table-responsive-lg">
  <table class="table">
    <thead style="text-align: center">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Product</th>
      <th scope="col">Quantity</th>
      <th scope="col">Cost</th>
      <th scope="col"></th>
    </tr>
    </thead>
    <tbody style="text-align: center">
    <tr *ngFor="let cartProduct of (cart.cartProducts); index as i">
      <th scope="row">{{i + 1}}</th>
      <td><a [routerLink]="['/product', cartProduct.product.id]">{{cartProduct.product.name}}</a></td>
      <td>
        <p-spinner (onChange)="updateCartProductQuantity(cartProduct)" [(ngModel)]="cartProduct.quantity" [step]="1"  [max]="100">
          cartProduct.quantity
        </p-spinner>
      </td>
      <td>{{cartProduct.product.price.currency.symbol}} {{cartProduct.quantity * cartProduct.product.price.amount}}</td>
      <td>
        <button class="btn btn-danger btn-sm" (click)="deleteProductFromCart(cartProduct)">Delete</button>
      </td>
    </tr>
    </tbody>
    <tfoot>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <th>Total Cost = ${{totalCost.toPrecision(6)}}</th>
      </tr>
    </tfoot>
  </table>

  <p style="text-align: center">
    <br/>
    <input (click)="goToProducts()" class=" btn btn-primary" type="button" value="Go to Products" style="margin: 20px">
    <input (click)="deleteCart()" class=" btn btn-danger" type="button" value="Delete Cart">
  </p>
</div>

